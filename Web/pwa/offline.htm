<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Pronot'if est hors ligne !</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f8fafc"> <!-- Light mode -->
    <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#0f172a"> <!-- Dark mode -->
    <meta name="theme-color" content="#45a8a8"> <!-- Fallback color -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black translucent">
    <meta name="apple-mobile-web-app-title" content="Pronot'if est hors ligne !">
    <link rel="stylesheet" href="styles/offline.css">

    <script>
        // Check online status immediately when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Add event listener for when device comes back online
            window.addEventListener('online', function() {
                console.log('Device is back online, redirecting to home page');
                navigateToHomePage();
            });
            
            // Check if already online when offline page loads (happens sometimes)
            if (navigator.onLine) {
                console.log('Already online when offline page loaded, redirecting after short delay');
                setTimeout(navigateToHomePage, 1000);
            }
        });
        
        function navigateToHomePage() {
            // Force reload bypassing cache (important for iOS)
            window.location.href = './index.htm?t=' + new Date().getTime();
        }
    </script>

</head>

<body>
    <div class="offline-container">
        <div class="offline-card">
            <div class="offline-icon"><a href="https://www.instagram.com/thibo888" target="_blank" style="text-decoration: none;">ðŸ˜…</a></div>
            <div class="offline-card-header">
                <h1 class="title">Oopsie !</h1>
                <p class="subtitle">Malheureusement, Pronot'if n'est pas utilisable hors ligne...</p>
            </div>
            <div class="offline-card-content">
                <p class="content">VÃ©rifiez que vous Ãªtes connectÃ© Ã  Internet et rÃ©essayez.</p>
                <button class="retry-btn" onclick="navigateToHomePage()">RÃ©essayer</button>
            </div>
        </div>
    </div>
</body>
</html>